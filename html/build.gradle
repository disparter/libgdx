//apply plugin: 'gwt'

//gwt {
//    modules 'com.github.disparter.raindrop.catcher.html.HtmlLauncher'
//    devModules 'com.github.disparter.raindrop.catcher.html.HtmlLauncher'
//}

task gwtCompile(type: JavaExec) {
    classpath = configurations.compileClasspath
    main = 'com.google.gwt.dev.Compiler'
    args '-war', 'html/target/GwtDefinitionGenerator', '-logLevel', 'INFO', '-localWorkers', '4', 'com.github.disparter.raindrop.catcher.html.client.HtmlLauncher'
}


sourceSets {
    main {
        java {
            srcDirs = ['src/main/java', 'src/gwt/java']
        }
        resources {
            srcDirs = ['src/main/resources']
        }
    }
    gwt {
        java {
            srcDirs = ['src/gwt/java']
        }
        resources {
            srcDirs = ['src/gwt/resources']
        }
    }
}
